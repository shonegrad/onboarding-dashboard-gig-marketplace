import{j as f}from"./index-kEMBa234.js";import{r as l}from"./icons-BrVv_MI0.js";import{g as u,h as b,l as w,i as R,k,o as z,q as y}from"./d3-charts-5qgYJmbs.js";import"./react-vendor-DDxydHEc.js";import"./ui-utils-BznqKjY6.js";function D({data:s}){const m=l.useRef(null),r=l.useRef(null),[o,v]=l.useState({width:0,height:0});return l.useEffect(()=>{if(!r.current)return;const i=new ResizeObserver(e=>{if(!e||e.length===0)return;const{width:a,height:n}=e[0].contentRect;v({width:a,height:n})});return i.observe(r.current),()=>i.disconnect()},[]),l.useEffect(()=>{if(!m.current||!s||o.width===0||o.height===0)return;const i=u(m.current);i.selectAll("*").remove();const e={top:20,right:30,left:40,bottom:30},a=o.width-e.left-e.right,n=o.height-e.top-e.bottom,c=i.append("g").attr("transform",`translate(${e.left},${e.top})`),g=b().domain(s.map(t=>t.range)).range([0,a]).padding(.2),d=w().domain([0,R(s,t=>t.count)||0]).nice().range([n,0]),h=u(r.current).append("div").style("position","absolute").style("visibility","hidden").style("background","white").style("border","1px solid #e2e8f0").style("padding","8px").style("border-radius","4px").style("box-shadow","0 2px 4px rgba(0,0,0,0.1)").style("font-size","12px").style("pointer-events","none").style("z-index","10");c.selectAll("rect").data(s).join("rect").attr("x",t=>g(t.range)).attr("y",t=>d(t.count)).attr("width",g.bandwidth()).attr("height",t=>n-d(t.count)).attr("fill",t=>t.color).attr("rx",4).on("mouseover",(t,p)=>{h.style("visibility","visible").html(`
                        <div class="font-bold mb-1">Time to Hire</div>
                        <div>Range: ${p.range}</div>
                        <div>Count: ${p.count}</div>
                    `),u(t.currentTarget).attr("opacity",.8)}).on("mousemove",t=>{const[p,x]=k(t,r.current);h.style("left",p+10+"px").style("top",x-10+"px")}).on("mouseout",t=>{h.style("visibility","hidden"),u(t.currentTarget).attr("opacity",1)}),c.append("g").attr("transform",`translate(0,${n})`).call(z(g)).style("font-size","11px").style("color","#64748b"),c.append("g").call(y(d).ticks(5)).style("font-size","11px").style("color","#64748b"),c.append("g").attr("class","grid").call(y(d).tickSize(-a).tickFormat(()=>"")).style("stroke-dasharray","3,3").style("stroke-opacity",.1).select(".domain").remove()},[s,o]),f.jsx("div",{ref:r,className:"w-full h-full relative",children:f.jsx("svg",{ref:m,width:"100%",height:"100%",style:{overflow:"visible"}})})}export{D as D3Histogram};
